Issue Type,Key,Summary,Description,Acceptance Criteria,Dependencies,Logging
Epic,ATCARE-MVP-CMS-EP-01,사례관리 데이터 모델,"Supabase의 clients, service_records 테이블과 RLS 정책을 정의","ERD 작성; 컬럼 타입 정의; 역할별 접근 제어 문서",,DDL 적용 시 감사 로그 남김
Story,ATCARE-MVP-CMS-US-01,대상자 등록 플로우,"등록 폼, POST /api/clients, RLS/Storage 연계를 구현","15개 필드 입력; 성공/실패 토스트; 감사 로그 client_created; 테스트 커버리지 70%",ATCARE-MVP-CMS-EP-01,auditLogger.info/error(client_created)
Sub-task,ATCARE-MVP-CMS-US-01-FORM,대상자 등록 UI 구현,"React Hook Form + Zod 기반 폼과 토스트 연동","필수 필드 검증; 오류 메시지 표시; 2스페이스 코드 스타일",ATCARE-MVP-CMS-US-01,auditLogger.info(client_form_rendered)
Sub-task,ATCARE-MVP-CMS-US-01-API,대상자 등록 API 구현,"POST /api/clients 라우트와 Supabase insert 처리","요청 본문 검증; 성공 시 UUID 반환; 실패 시 4xx/5xx 처리",ATCARE-MVP-CMS-US-01,auditLogger.info(client_created)
Sub-task,ATCARE-MVP-CMS-US-01-TEST,대상자 등록 테스트,"Jest/RTL 테스트 및 Supabase 모킹","성공/실패 플로 커버; 커버리지 70% 이상",ATCARE-MVP-CMS-US-01,auditLogger.info(test_result)
Story,ATCARE-MVP-CMS-US-02,대상자 조회/수정,"GET/PATCH /api/clients, 목록/상세 UI, optimistic 업데이트","25개 페이지네이션; 탭 구조; 수정 시 토스트; 감사 로그",ATCARE-MVP-CMS-US-01,auditLogger.info(client_viewed)
Sub-task,ATCARE-MVP-CMS-US-02-LIST,대상자 목록 테이블,"검색 파라미터 연계 테이블 컴포넌트","헤더 접근성; 상태 뱃지; 스켈레톤 표시",ATCARE-MVP-CMS-US-02,auditLogger.info(client_list_loaded)
Sub-task,ATCARE-MVP-CMS-US-02-DETAIL,대상자 상세 페이지,"탭 구조와 편집 폼 구현","Overview/Notes 기본 섹션 표시; 수정 시 로딩 상태",ATCARE-MVP-CMS-US-02,auditLogger.info(client_detail_viewed)
Sub-task,ATCARE-MVP-CMS-US-02-API,대상자 조회/수정 API,"GET/PATCH 라우트 구현 및 권한 검사","RLS 일관성; optimistic 업데이트 대응",ATCARE-MVP-CMS-US-02,auditLogger.info(client_updated)
Story,ATCARE-MVP-CMS-US-03,대상자 검색/필터,"검색/필터 훅과 debounce 유틸, 감사 로그","300ms 디바운스; URL 동기화; ARIA 준수",ATCARE-MVP-CMS-US-02,auditLogger.info(client_search_executed)
Sub-task,ATCARE-MVP-CMS-US-03-HOOK,검색 필터 훅,"useClientFilters 훅 작성","URL 쿼리 유지; 기본 필터 상태 제공",ATCARE-MVP-CMS-US-03,auditLogger.info(filter_state_changed)
Sub-task,ATCARE-MVP-CMS-US-03-UI,검색/필터 UI,"검색 입력, 필터 버튼, 리셋 UI","접근성 라벨; 키보드 포커스",ATCARE-MVP-CMS-US-03,auditLogger.info(client_search_ui_used)
Story,ATCARE-MVP-CMS-US-04,상담 기록 CRUD,"타임라인 UI, 파일 첨부, CRUD API","SOAP 템플릿; 첨부 파일 저장; ACL 적용",ATCARE-MVP-CMS-US-01,auditLogger.info(consultation_created)
Sub-task,ATCARE-MVP-CMS-US-04-API,상담 기록 API,"CRUD 라우트와 Storage 연계","작성자 검증; 감사 로그 작성",ATCARE-MVP-CMS-US-04,auditLogger.info(consultation_api_call)
Sub-task,ATCARE-MVP-CMS-US-04-UI,상담 기록 타임라인,"Timeline 컴포넌트와 폼","모바일 반응형; 상태 배지 표시",ATCARE-MVP-CMS-US-04,auditLogger.info(consultation_timeline_viewed)
Sub-task,ATCARE-MVP-CMS-US-04-TEST,상담 기록 테스트,"CRUD 플로 테스트","생성/수정/삭제 시나리오 커버",ATCARE-MVP-CMS-US-04,auditLogger.info(test_result)
Story,ATCARE-MVP-CMS-US-05,평가 기록 관리,"평가 프리셋, 점수 검증, PDF 첨부","0~5 점수 검증; PDF 첨부; 감사 로그",ATCARE-MVP-CMS-US-01,auditLogger.info(assessment_created)
Sub-task,ATCARE-MVP-CMS-US-05-FORM,평가 폼 구현,"평가 유형 셀렉트, 점수 입력","검증 실패 시 경고; 접근성 지원",ATCARE-MVP-CMS-US-05,auditLogger.info(assessment_form_used)
Sub-task,ATCARE-MVP-CMS-US-05-API,평가 API 구현,"CRUD 라우트 및 Storage","상태별 감사 로그; 오류 핸들링",ATCARE-MVP-CMS-US-05,auditLogger.info(assessment_updated)
Epic,ATCARE-MVP-ERM-EP-01,기기 재고 데이터 모델,"equipment, rentals 테이블과 상태 Enum 정의","ERD 확정; 상태 Enum; 권한 매트릭스",ATCARE-MVP-CMS-EP-01,DDL 적용 시 감사 로그 남김
Story,ATCARE-MVP-ERM-US-01,기기 재고 관리 UI,"목록 테이블, 상태 변경 모달, API","상태 변경 Confirm; 감사 로그 equipment_status_updated",ATCARE-MVP-ERM-EP-01,auditLogger.info(equipment_status_updated)
Sub-task,ATCARE-MVP-ERM-US-01-API,기기 목록/상태 API,"GET/PATCH 라우트 및 권한","상태 변경 시 감사 로그 호출",ATCARE-MVP-ERM-US-01,auditLogger.info(equipment_status_updated)
Sub-task,ATCARE-MVP-ERM-US-01-UI,기기 목록 UI,"테이블, 상태 뱃지, Confirm 모달","모바일 대응; 정렬/필터",ATCARE-MVP-ERM-US-01,auditLogger.info(equipment_table_viewed)
Story,ATCARE-MVP-ERM-US-02,대여/반납 프로세스,"대여 생성/반납 UI, 계약서 Stub","대여 생성 로그; 반납 시 상태 갱신",ATCARE-MVP-ERM-US-01,auditLogger.info(rental_created)
Sub-task,ATCARE-MVP-ERM-US-02-API,대여/반납 API,"POST/PATCH 라우트, 계약서 저장","계약서 URL 저장; 감사 로그",ATCARE-MVP-ERM-US-02,auditLogger.info(rental_api_call)
Sub-task,ATCARE-MVP-ERM-US-02-UI,대여/반납 UI,"프로세스 UI, 재고 자동 갱신","반납 완료 토스트; 로그 호출",ATCARE-MVP-ERM-US-02,auditLogger.info(rental_returned)
Story,ATCARE-MVP-ERM-US-03,기기 상태 모니터링,"상태 필터, 유지보수 노트","필터 버튼; 유지보수 히스토리; 감사 로그",ATCARE-MVP-ERM-US-01,auditLogger.info(maintenance_note_added)
Sub-task,ATCARE-MVP-ERM-US-03-UI,상태 모니터링 UI,"필터 버튼, 노트 모달, 차트 Stub","상태 뱃지; 접근성",ATCARE-MVP-ERM-US-03,auditLogger.info(maintenance_ui_viewed)
Sub-task,ATCARE-MVP-ERM-US-03-API,유지보수 노트 API,"노트 CRUD 및 감사 로그","기록 히스토리 제공",ATCARE-MVP-ERM-US-03,auditLogger.info(maintenance_note_added)
Epic,ATCARE-MVP-CDM-EP-01,맞춤제작 테이블 정의,"customization_requests 테이블과 상태 Enum 설계","상태 전이 정의; Technician ACL; API 스펙",ATCARE-MVP-CMS-EP-01,DDL 적용 시 감사 로그 남김
Story,ATCARE-MVP-CDM-US-01,제작 요청 API Stub,"POST/GET Stub + 검증","Zod 검증; 상태 requested 기본값; 감사 로그",ATCARE-MVP-CDM-EP-01,auditLogger.info(custom_request_created)
Sub-task,ATCARE-MVP-CDM-US-01-API,제작 요청 API,"POST/GET 구현","상태 필드 기본값; 감사 로그",ATCARE-MVP-CDM-US-01,auditLogger.info(custom_request_created)
Sub-task,ATCARE-MVP-CDM-US-01-DOC,제작 요청 문서,"Swagger/MD 문서 및 상태 전이표","Phase 2 연계 설명",ATCARE-MVP-CDM-US-01,auditLogger.info(doc_generated)
Epic,ATCARE-MVP-INF-EP-01,인증/권한 통합,"Clerk 조직, Protected Route, RLS 매핑","역할 구조 문서; Protected HOC; RLS 매핑",ATCARE-MVP-CMS-EP-01,auditLogger.info(auth_flow_event)
Story,ATCARE-MVP-INF-US-01,감사 로그 인프라,"audit_logs 테이블, auditLogger 유틸, 테스트","테이블 생성; 유틸 구현; 테스트 통과",ATCARE-MVP-INF-EP-01,auditLogger.info(audit_log_written)
Sub-task,ATCARE-MVP-INF-US-01-DB,감사 로그 테이블 DDL,"audit_logs 테이블 정의","마이그레이션 적용; 인덱스 생성",ATCARE-MVP-INF-US-01,auditLogger.info(schema_migrated)
Sub-task,ATCARE-MVP-INF-US-01-UTIL,auditLogger 유틸,"info/error 메서드 구현","메타데이터 병합; 에러 핸들링",ATCARE-MVP-INF-US-01,auditLogger.info(audit_logger_called)
Sub-task,ATCARE-MVP-INF-US-01-TEST,감사 로그 테스트,"Jest 기반 단위 테스트","성공/실패 케이스 검증",ATCARE-MVP-INF-US-01,auditLogger.info(test_result)
Story,ATCARE-MVP-INF-US-02,환경 변수 & CI 설정,".env.example, GitHub Actions, 보안 체크리스트","필수 키 명시; CI lint/test; 보안 체크리스트",ATCARE-MVP-INF-EP-01,auditLogger.info(ci_run)
Sub-task,ATCARE-MVP-INF-US-02-ENV,.env 템플릿 작성,"환경 변수 템플릿 및 주석","민감 정보 미커밋 가이드",ATCARE-MVP-INF-US-02,auditLogger.info(env_template_updated)
Sub-task,ATCARE-MVP-INF-US-02-CI,CI 파이프라인 정의,"lint/test 워크플로 구성","pnpm lint/test 성공; 배지 업데이트",ATCARE-MVP-INF-US-02,auditLogger.info(ci_run)
Sub-task,ATCARE-MVP-INF-US-02-SEC,보안 체크리스트,"RLS, 입력 검증, XSS 방지 체크","체크리스트 문서 정리",ATCARE-MVP-INF-US-02,auditLogger.info(security_checklist_created)

