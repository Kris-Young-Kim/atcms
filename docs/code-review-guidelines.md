# AT-CMP 코드 리뷰 피드백 가이드라인

**프로젝트 코드**: ATCMP-2026  
**작성일**: 2025-11-01  
**버전**: 1.0

---

## 📋 목차

1. [건설적인 피드백 방법](#건설적인-피드백-방법)
2. [피드백 우선순위](#피드백-우선순위)
3. [피드백 형식](#피드백-형식)
4. [리뷰어 에티켓](#리뷰어-에티켓)
5. [피드백 응답 방법](#피드백-응답-방법)
6. [예시 피드백](#예시-피드백)

---

## 건설적인 피드백 방법

### ✅ 좋은 피드백의 특징

1. **명확한 설명**: 무엇이 문제인지, 왜 문제인지 설명
2. **구체적인 제안**: 어떻게 개선할 수 있는지 제안
3. **긍정적인 톤**: 비판적이지 않고 건설적인 톤 사용
4. **컨텍스트 제공**: 관련 문서나 예시 코드 링크 제공

### ❌ 피해야 할 피드백

1. **모호한 지적**: "이건 좋지 않아요" (무엇이, 왜 좋지 않은지 명시 필요)
2. **감정적 반응**: "이건 잘못됐어요" (객관적 설명 필요)
3. **개인적 공격**: "당신이 실수했어요" (코드에 대한 비판, 사람에 대한 비판 금지)
4. **해결책 없이 문제만 지적**: "이건 문제가 있어요" (개선 방안 제시 필요)

---

## 피드백 우선순위

### 🔴 P0: 즉시 수정 필요 (Critical)

**특징**: 보안 문제, 버그, 브레이킹 체인지

**예시**:
- 보안 취약점
- 프로덕션 크래시 가능성
- 데이터 손실 위험
- API 호환성 문제

**응답 시간**: 즉시
**승인 조건**: 수정 완료 후 재리뷰 필수

### 🟠 P1: 중요한 개선 (High Priority)

**특징**: 코드 품질, 성능 문제

**예시**:
- 성능 저하 가능성
- 코드 복잡도 증가
- 타입 안정성 문제
- 테스트 커버리지 부족

**응답 시간**: 24시간 내
**승인 조건**: 개선 필요, 블로킹 가능

### 🟡 P2: 개선 권장 (Medium Priority)

**특징**: 스타일, 문서화 개선

**예시**:
- 코드 스타일 개선
- 주석 추가
- 변수명 개선
- 문서화 보완

**응답 시간**: 48시간 내
**승인 조건**: 현재 PR에서 수정하지 않아도 됨 (다음 PR에서 개선 가능)

### 🟢 P3: 선택적 개선 (Low Priority)

**특징**: 미세한 스타일 차이

**예시**:
- 개인적 선호도 차이
- 프로젝트 표준을 준수하는 대안

**응답 시간**: 제한 없음
**승인 조건**: 승인 가능, 다음 기회에 개선 권장

---

## 피드백 형식

### 1. 긍정적 피드백 (Positive Feedback)

**형식**: 무엇이 좋은지 + 왜 좋은지

**예시**:
```
✅ 좋은 점: 
- 에러 핸들링이 명확하고 사용자 친화적입니다.
- 타입 가드를 사용하여 타입 안정성을 높인 점이 좋습니다.
```

### 2. 개선 제안 (Suggestions)

**형식**: 문제점 + 이유 + 제안

**예시**:
```
💡 개선 제안:
- 현재 `any` 타입 사용 (라인 45)
- 이유: 타입 안정성을 위해 `any` 타입 사용을 피해야 합니다.
- 제안: `UserProfile` 타입을 정의하여 사용하는 것이 좋겠습니다.
  참고: [타입 정의 가이드](./coding-standards.md#typescript)
```

### 3. 질문 (Questions)

**형식**: 명확한 질문 + 컨텍스트

**예시**:
```
❓ 질문:
- 이 로직이 동시성 문제를 고려했나요? (라인 120-125)
- 여러 사용자가 동시에 접근할 경우 race condition이 발생할 수 있을 것 같습니다.
```

### 4. 경고 (Warnings)

**형식**: 경고 내용 + 영향도 + 권장사항

**예시**:
```
⚠️ 경고:
- N+1 쿼리 문제 가능성 (라인 80-90)
- 영향: 사용자 수가 많아질 경우 성능 저하 가능
- 권장: `include` 또는 `join`을 사용하여 한 번의 쿼리로 해결
```

---

## 리뷰어 에티켓

### ✅ 해야 할 것

1. **존중**: 코드 작성자에 대한 존중
2. **겸손**: 자신의 의견도 완벽하지 않을 수 있음을 인정
3. **배려**: 피드백이 학습 기회가 되도록 배려
4. **감사**: 코드 기여에 대한 감사 표현

### ❌ 하지 말아야 할 것

1. **개인적 공격**: 사람이 아닌 코드에 집중
2. **감정적 반응**: 객관적이고 건설적인 피드백 유지
3. **과도한 지적**: 중요하지 않은 사항에 과도하게 집중하지 않기
4. **승부**: 누가 맞는지가 아니라 코드 품질 향상에 집중

### 💬 피드백 톤 가이드

**✅ 좋은 예시**:
- "이 부분을 개선하면 더 좋을 것 같습니다."
- "다음과 같은 방법도 고려해볼 수 있습니다."
- "이 로직이 의도한 대로 동작하는지 확인해주세요."

**❌ 나쁜 예시**:
- "이건 잘못됐어요."
- "왜 이렇게 했어요?"
- "이건 제가 더 잘 알겠어요."

---

## 피드백 응답 방법

### 작성자 (PR Author) 관점

#### 1. 피드백 수용

**형식**: 감사 + 수용 확인 + 수정 계획

**예시**:
```
감사합니다! 좋은 지적이네요.

- [수정 완료] P0 보안 문제 수정
- [수정 중] P1 성능 개선 제안 반영 중
- [검토 필요] P2 스타일 개선 제안 - 이 부분은 추가로 논의가 필요할 것 같습니다.
```

#### 2. 피드백 논의

**형식**: 감사 + 의견 + 대안 제시

**예시**:
```
감사합니다! 좋은 제안입니다.

다만 이 경우에는 다음과 같은 이유로 현재 방식을 유지하는 것이 좋을 것 같습니다:
- [이유 1]
- [이유 2]

또는 [대안 제시]와 같은 방법도 고려해볼 수 있습니다.

어떻게 생각하시나요?
```

#### 3. 피드백 반영

**형식**: 수정 완료 + 변경 사항 설명

**예시**:
```
✅ 피드백 반영 완료!

- [수정] P0 보안 문제: 입력 검증 로직 추가
- [수정] P1 성능 개선: N+1 쿼리 문제 해결
- [추가] P2 문서화: JSDoc 주석 추가

다시 리뷰 부탁드립니다!
```

### 리뷰어 관점

#### 1. 피드백 확인

**형식**: 확인 + 추가 피드백 (필요시)

**예시**:
```
✅ 수정 확인했습니다. 좋습니다!

추가로 [사항]도 확인해주시면 좋겠습니다.
```

#### 2. 승인

**형식**: 승인 + 간단한 코멘트

**예시**:
```
✅ 승인합니다!

코드 품질이 좋고, 요구사항을 잘 반영했습니다. 좋은 작업입니다!
```

---

## 예시 피드백

### 예시 1: 보안 문제 (P0)

**리뷰어**:
```
🔴 P0: 보안 취약점 발견

라인 45에서 사용자 입력을 직접 데이터베이스 쿼리에 사용하고 있습니다.

문제점:
- SQL 인젝션 공격 가능성
- 민감한 데이터 노출 위험

제안:
- Zod 스키마를 사용하여 입력 검증
- Supabase ORM의 파라미터화된 쿼리 사용

참고: [보안 체크리스트](./security-checklist.md#입력-검증)
```

**작성자**:
```
감사합니다! 중요한 보안 문제를 지적해주셔서 감사합니다.

✅ 수정 완료:
- Zod 스키마로 입력 검증 추가
- Supabase ORM의 파라미터화된 쿼리 사용

다시 리뷰 부탁드립니다!
```

### 예시 2: 성능 개선 (P1)

**리뷰어**:
```
🟠 P1: 성능 개선 제안

라인 80-90에서 루프 내부에서 API 호출을 하고 있습니다.

문제점:
- N+1 쿼리 문제 가능성
- 사용자 수가 많아질 경우 성능 저하

제안:
- `include` 또는 `join`을 사용하여 한 번의 쿼리로 해결
- 또는 배치 처리(batch processing) 사용

참고: [성능 최적화 가이드](./performance-guide.md)
```

**작성자**:
```
감사합니다! 좋은 지적입니다.

✅ 수정 완료:
- `include`를 사용하여 한 번의 쿼리로 수정
- 쿼리 성능 개선 확인

다시 리뷰 부탁드립니다!
```

### 예시 3: 코드 스타일 (P2)

**리뷰어**:
```
🟡 P2: 코드 스타일 개선

라인 120에서 `any` 타입을 사용하고 있습니다.

제안:
- `UserProfile` 타입을 정의하여 사용하는 것이 좋겠습니다.
- 또는 적절한 타입 가드 사용

참고: [타입 정의 가이드](./coding-standards.md#typescript)

참고: 현재 PR에서 수정하지 않아도 됩니다. 다음 PR에서 개선해주시면 됩니다.
```

**작성자**:
```
감사합니다! 좋은 제안입니다.

이번 PR에서는 기능 구현에 집중하고, 다음 PR에서 타입 개선 작업을 진행하겠습니다.
```

---

## 피드백 우선순위 체크리스트

리뷰어는 다음 체크리스트를 사용하여 피드백 우선순위를 결정할 수 있습니다:

### 🔴 P0 체크리스트

- [ ] 보안 취약점이 있는가?
- [ ] 프로덕션 크래시 가능성이 있는가?
- [ ] 데이터 손실 위험이 있는가?
- [ ] API 호환성 문제가 있는가?

### 🟠 P1 체크리스트

- [ ] 성능 저하 가능성이 있는가?
- [ ] 코드 복잡도가 과도한가?
- [ ] 타입 안정성 문제가 있는가?
- [ ] 테스트 커버리지가 부족한가?

### 🟡 P2 체크리스트

- [ ] 코드 스타일 개선이 필요한가?
- [ ] 주석이 부족한가?
- [ ] 변수명이 명확하지 않은가?
- [ ] 문서화가 부족한가?

---

## 참고 자료

- [코드 리뷰 체크리스트](./code-review-checklist.md)
- [코딩 표준](./coding-standards.md)
- [보안 체크리스트](./security-checklist.md)
- [PROJECT_MANAGEMENT_SYSTEM.md](../PROJECT_MANAGEMENT_SYSTEM.md)

---

**마지막 업데이트**: 2025-11-01  
**다음 검토일**: 2026-02-01

