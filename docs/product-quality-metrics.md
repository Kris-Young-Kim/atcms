# 제품 품질 지표 가이드

**프로젝트 코드**: ATCMP-2026  
**작성일**: 2025-01-27  
**버전**: 1.0

---

## 📋 개요

이 문서는 AT-CMP 프로젝트의 제품 품질을 측정하고 추적하기 위한 지표를 정의합니다. 가동률, 응답 시간, 에러율, 코드 커버리지 등을 통해 제품 품질을 객관적으로 평가합니다.

---

## 🎯 목적

1. **제품 품질 측정**: 정량적 지표로 제품 품질 평가
2. **품질 목표 달성**: 품질 목표 설정 및 달성 여부 추적
3. **문제 조기 발견**: 지표 모니터링을 통한 문제 조기 발견
4. **지속적 개선**: 품질 지표 분석을 통한 지속적 개선

---

## 📊 주요 지표

### 1. 가동률 (Uptime)

**정의**: 서비스가 정상적으로 동작하는 시간 비율

**계산 방법**:
```
가동률 = (전체 시간 - 다운타임) / 전체 시간 × 100%
```

**측정 주기**: 실시간 모니터링

**목표**: 99.5% 이상 (월간)

**등급**:
- **99.9% 이상**: 매우 우수
- **99.5-99.9%**: 우수
- **99.0-99.5%**: 보통
- **99.0% 미만**: 개선 필요

**모니터링 도구**: 
- Vercel Analytics
- Sentry
- UptimeRobot

---

### 2. 응답 시간 (Response Time)

**정의**: API 요청 또는 페이지 로드에 소요되는 시간

**측정 항목**:
- **TTFB (Time to First Byte)**: 첫 바이트 수신 시간
- **LCP (Largest Contentful Paint)**: 가장 큰 콘텐츠 렌더링 시간
- **FID (First Input Delay)**: 첫 입력 지연 시간
- **API 응답 시간**: API 요청 처리 시간

**목표**:
- **TTFB**: < 200ms
- **LCP**: < 2.5초
- **FID**: < 100ms
- **API 응답 시간**: 평균 < 2초

**등급**:
- **목표 달성**: 우수
- **목표의 1.5배 이내**: 보통
- **목표의 1.5배 초과**: 개선 필요

**모니터링 도구**:
- Web Vitals
- Sentry Performance Monitoring
- Vercel Analytics

---

### 3. 에러율 (Error Rate)

**정의**: 전체 요청 중 에러가 발생한 비율

**계산 방법**:
```
에러율 = 에러 발생 횟수 / 전체 요청 횟수 × 100%
```

**측정 주기**: 실시간 모니터링

**목표**: < 0.5%

**에러 유형별 추적**:
- **5xx 에러**: 서버 에러
- **4xx 에러**: 클라이언트 에러
- **타임아웃**: 요청 타임아웃

**등급**:
- **< 0.1%**: 매우 우수
- **0.1-0.5%**: 우수
- **0.5-1.0%**: 보통
- **> 1.0%**: 개선 필요

**모니터링 도구**:
- Sentry
- Vercel Analytics
- Custom Error Logging

---

### 4. 코드 커버리지 (Code Coverage)

**정의**: 테스트 코드가 커버하는 코드 비율

**계산 방법**:
```
코드 커버리지 = 테스트된 코드 라인 수 / 전체 코드 라인 수 × 100%
```

**측정 주기**: CI/CD 파이프라인 실행 시

**목표**: 70% 이상

**커버리지 유형**:
- **Line Coverage**: 라인 커버리지
- **Branch Coverage**: 브랜치 커버리지
- **Function Coverage**: 함수 커버리지

**등급**:
- **80% 이상**: 매우 우수
- **70-80%**: 우수
- **60-70%**: 보통
- **60% 미만**: 개선 필요

**모니터링 도구**:
- Jest Coverage
- SonarCloud

---

## 📈 가동률 추적

### 측정 방법

1. **헬스 체크 엔드포인트 모니터링**
   - `/api/health` 엔드포인트 모니터링
   - 주기: 1분마다

2. **실제 사용자 모니터링**
   - 실제 사용자 세션 모니터링
   - 에러 발생 추적

### 가동률 리포트

**리포트 주기**: 주간, 월간

**리포트 내용**:
- 가동률 통계
- 다운타임 발생 일시 및 원인
- MTTR (Mean Time To Recovery)
- 가동률 트렌드

---

## ⚡ 응답 시간 추적

### 측정 항목

#### Core Web Vitals

- **LCP (Largest Contentful Paint)**
  - 목표: < 2.5초
  - 측정: Web Vitals

- **FID (First Input Delay)**
  - 목표: < 100ms
  - 측정: Web Vitals

- **CLS (Cumulative Layout Shift)**
  - 목표: < 0.1
  - 측정: Web Vitals

#### API 응답 시간

- **평균 응답 시간**: 평균 API 응답 시간
- **P50 (중앙값)**: 50% 요청의 응답 시간
- **P95**: 95% 요청의 응답 시간
- **P99**: 99% 요청의 응답 시간

### 응답 시간 리포트

**리포트 주기**: 주간

**리포트 내용**:
- Core Web Vitals 통계
- API 응답 시간 통계
- 느린 엔드포인트 Top 10
- 응답 시간 트렌드

---

## ❌ 에러율 추적

### 에러 분류

#### 에러 레벨

- **Critical**: 시스템 전체 장애
- **High**: 주요 기능 사용 불가
- **Medium**: 일부 기능 제한
- **Low**: 사소한 문제

#### 에러 유형

- **5xx 에러**: 서버 에러
- **4xx 에러**: 클라이언트 에러
- **타임아웃**: 요청 타임아웃
- **예외**: 예외 발생

### 에러율 리포트

**리포트 주기**: 주간, 월간

**리포트 내용**:
- 에러율 통계
- 에러 유형별 분포
- 에러 발생 빈도 Top 10
- 에러 해결율

---

## 📊 코드 커버리지 추적

### 측정 방법

1. **단위 테스트 커버리지**
   - Jest를 통한 단위 테스트 커버리지 측정
   - CI/CD 파이프라인에서 자동 측정

2. **E2E 테스트 커버리지**
   - Playwright를 통한 E2E 테스트 커버리지 측정
   - 주요 사용자 플로우 커버리지

### 커버리지 리포트

**리포트 주기**: 스프린트 종료 시

**리포트 내용**:
- 전체 코드 커버리지
- 모듈별 코드 커버리지
- 커버리지 트렌드
- 커버리지 목표 달성 여부

---

## 📈 품질 지표 대시보드

### 대시보드 구성

1. **가동률 대시보드**
   - 현재 가동률
   - 가동률 트렌드 (일별, 주별, 월별)
   - 다운타임 이력

2. **응답 시간 대시보드**
   - Core Web Vitals 통계
   - API 응답 시간 통계
   - 응답 시간 트렌드

3. **에러율 대시보드**
   - 현재 에러율
   - 에러 유형별 분포
   - 에러 트렌드

4. **코드 커버리지 대시보드**
   - 현재 코드 커버리지
   - 모듈별 커버리지
   - 커버리지 트렌드

---

## 🎯 품질 목표 및 달성 평가

### 품질 목표

| 지표 | 목표 | 측정 주기 |
|------|------|----------|
| 가동률 | 99.5% 이상 | 월간 |
| LCP | < 2.5초 | 주간 |
| FID | < 100ms | 주간 |
| API 응답 시간 | 평균 < 2초 | 주간 |
| 에러율 | < 0.5% | 주간 |
| 코드 커버리지 | 70% 이상 | 스프린트별 |

### 목표 달성 평가

**평가 주기**: 분기별

**평가 항목**:
- 각 지표별 목표 달성 여부
- 미달성 원인 분석
- 개선 계획 수립

---

## 🔍 품질 지표 리뷰

### 리뷰 주기

- **주간**: 주간 품질 지표 리뷰
- **월간**: 월간 품질 지표 리뷰
- **분기별**: 전체 품질 트렌드 리뷰

### 리뷰 항목

1. **목표 달성 여부**
   - 각 지표별 목표 달성 여부 확인
   - 미달성 지표 분석

2. **트렌드 분석**
   - 품질 지표 트렌드 분석
   - 개선/악화 추세 확인

3. **개선 계획**
   - 품질 개선 계획 수립
   - 우선순위 결정

---

## 🔗 관련 문서

- [성능 모니터링 가이드](./performance-monitoring-guide.md)
- [가동률 SLA](./uptime-sla.md)
- [응답 시간 목표](./response-time-targets.md)
- [에러율 목표](./error-rate-targets.md)
- [성능 지표 추적 가이드](./metrics-tracking-guide.md)

---

**마지막 업데이트**: 2025-01-27  
**다음 검토일**: 2025-02-03

